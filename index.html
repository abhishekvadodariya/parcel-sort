<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Scale Space Parcel Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .phase-a { border-left: 8px solid #3b82f6; background: rgba(59, 130, 246, 0.1); }
        .phase-b { border-left: 8px solid #22c55e; background: rgba(34, 197, 94, 0.1); }
        .phase-c { border-left: 8px solid #f97316; background: rgba(249, 115, 22, 0.1); }
        body { background-color: #0f172a; color: #f8fafc; font-family: sans-serif; }
    </style>
</head>
<body class="p-4">
    <div class="sticky top-0 bg-slate-900 pb-4 z-50">
        <h1 class="text-xl font-bold text-slate-400 mb-3">Scale Space Sorter</h1>
        <input type="text" id="search" placeholder="Type Company or Lab # (e.g. 'Siftr' or 'Lab 1')" 
               class="w-full p-4 rounded-xl bg-slate-800 border-2 border-slate-700 text-lg focus:border-blue-500 outline-none shadow-2xl">
    </div>

    <div id="results" class="space-y-3 mt-4"></div>

    <script>
        const db = [
    // --- UPDATED & NEW ENTRIES ---
    {"name": "Solve Chemistry", "phase": "B", "floor": "Second", "location": "Lab 5", "type": "LAB", "aliases": ["Solve Chemsity"]},
    {"name": "30.tech", "phase": "C", "floor": "Third", "location": "Lab 5", "type": "LAB", "aliases": ["30 Technology"]},
    {"name": "Fospha", "phase": "B", "floor": "First", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "Pentabind", "phase": "B", "floor": "Second", "location": "Lab 6", "type": "LAB", "aliases": []},
    {"name": "RQ Bio", "phase": "C", "floor": "Third", "location": "Lab 4", "type": "LAB", "aliases": ["RO Bio"]},

    // --- GROUND FLOOR ---
    {"name": "Imperial Business School", "phase": "A", "floor": "Ground", "location": "General", "type": "OFFICE", "aliases": ["I-Hub"]},
    {"name": "British Asian Trust", "phase": "B", "floor": "Ground", "location": "General", "type": "OFFICE", "aliases": ["BAT"]},
    {"name": "Liberis", "phase": "C", "floor": "Ground", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "Scale Space Office", "phase": "A", "floor": "Ground", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "Fabulr Studios", "phase": "B", "floor": "Ground", "location": "General", "type": "OFFICE", "aliases": ["Fabrix"]},
    {"name": "ST TELCO", "phase": "A", "floor": "Ground", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "Metsera", "phase": "B", "floor": "Ground", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "SAAB", "phase": "A", "floor": "Ground", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "Vector Builder", "phase": "B", "floor": "Ground", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "Vizzy", "phase": "A", "floor": "Ground", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "The George Institute", "phase": "B", "floor": "Ground", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "Undaunted", "phase": "B", "floor": "Ground", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "Sparta Office", "phase": "B", "floor": "Ground", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "Portal Bio Office", "phase": "B", "floor": "Ground", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "Interior Night", "phase": "B", "floor": "Ground", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "Second Nature", "phase": "B", "floor": "Ground", "location": "General", "type": "OFFICE", "aliases": []},

    // --- FIRST FLOOR ---
    {"name": "Red Team", "phase": "A", "floor": "First", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "Accelerate People", "phase": "B", "floor": "First", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "Modulr", "phase": "C", "floor": "First", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "BC HR / VBS / TAX / LTF", "phase": "A", "floor": "First", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "Koodoo", "phase": "B", "floor": "First", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "Blenheim Chalcot", "phase": "A", "floor": "First", "location": "General", "type": "OFFICE", "aliases": ["BC"]},
    {"name": "Avado", "phase": "B", "floor": "First", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "Emerging Media Ventures", "phase": "A", "floor": "First", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "Hive Learning", "phase": "B", "floor": "First", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "Agilisys", "phase": "A", "floor": "First", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "ClickZ / Oakbrook", "phase": "A", "floor": "First", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "BCI Capital", "phase": "A", "floor": "First", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "Royals / Onside", "phase": "A", "floor": "First", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "Coraaj/ Accelerate Travel", "phase": "A", "floor": "First", "location": "General", "type": "OFFICE", "aliases": []},

    // --- SECOND FLOOR ---
    {"name": "Investment Property Office", "phase": "A", "floor": "Second", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "CTLS", "phase": "B", "floor": "Second", "location": "General", "type": "OFFICE", "aliases": ["BioIVT"]},
    {"name": "Planet Smart", "phase": "C", "floor": "Second", "location": "Lab 1", "type": "LAB", "aliases": []},
    {"name": "Sealeo", "phase": "C", "floor": "Second", "location": "Lab 1", "type": "LAB", "aliases": []},
    {"name": "Siftr Bio", "phase": "C", "floor": "Second", "location": "Lab 1", "type": "LAB", "aliases": []},
    {"name": "Synteny", "phase": "C", "floor": "Second", "location": "Lab 1", "type": "LAB", "aliases": []},
    {"name": "Woost", "phase": "C", "floor": "Second", "location": "Lab 1", "type": "LAB", "aliases": []},
    {"name": "Papcup", "phase": "C", "floor": "Second", "location": "Lab 1", "type": "LAB", "aliases": []},
    {"name": "Siftr Bio", "phase": "C", "floor": "Second", "location": "Office 1", "type": "OFFICE", "aliases": []},
    {"name": "CCS", "phase": "A", "floor": "Second", "location": "General", "type": "OFFICE", "aliases": ["Carbon Clean"]},
    {"name": "Puraffinity", "phase": "B", "floor": "Second", "location": "Lab 1", "type": "LAB", "aliases": []},
    {"name": "Meatly", "phase": "B", "floor": "Second", "location": "Lab 2", "type": "LAB", "aliases": []},
    {"name": "Sparta Biotechnology", "phase": "C", "floor": "Second", "location": "Lab 3", "type": "LAB", "aliases": []},
    {"name": "Sparta Biotechnology", "phase": "C", "floor": "Second", "location": "Office 3", "type": "OFFICE", "aliases": []},
    {"name": "DNAe", "phase": "A", "floor": "Second", "location": "General", "type": "OFFICE", "aliases": ["DNA Electronics"]},
    {"name": "Kodiform Tx", "phase": "C", "floor": "Second", "location": "Lab 4", "type": "LAB", "aliases": []},
    {"name": "Dawn Therapeutics", "phase": "C", "floor": "Second", "location": "Office 4", "type": "OFFICE", "aliases": []},
    {"name": "Spiracheck", "phase": "C", "floor": "Second", "location": "Office 4", "type": "OFFICE", "aliases": []},
    {"name": "Radiant Matter", "phase": "C", "floor": "Second", "location": "Lab 5", "type": "LAB", "aliases": []},
    {"name": "Kodiform Tx", "phase": "C", "floor": "Second", "location": "Office 5", "type": "OFFICE", "aliases": []},
    {"name": "Avigen", "phase": "C", "floor": "Second", "location": "Lab 6", "type": "LAB", "aliases": []},
    {"name": "Crane Bio", "phase": "C", "floor": "Second", "location": "Lab 6", "type": "LAB", "aliases": []},
    {"name": "Dart Bio", "phase": "C", "floor": "Second", "location": "Lab 6", "type": "LAB", "aliases": []},
    {"name": "Resurrect Bio", "phase": "C", "floor": "Second", "location": "Lab 7", "type": "LAB", "aliases": []},
    {"name": "Resurrect Bio", "phase": "C", "floor": "Second", "location": "Office 7", "type": "OFFICE", "aliases": []},
    {"name": "M-Spin", "phase": "C", "floor": "Second", "location": "Lab 8", "type": "LAB", "aliases": []},
    {"name": "Cipher X", "phase": "C", "floor": "Second", "location": "Lab 9", "type": "LAB", "aliases": []},
    {"name": "Cipher X", "phase": "C", "floor": "Second", "location": "Office 9", "type": "OFFICE", "aliases": []},
    {"name": "Ailurus", "phase": "C", "floor": "Second", "location": "Lab 10", "type": "LAB", "aliases": []},
    {"name": "Blue Beagle Bio", "phase": "C", "floor": "Second", "location": "Lab 10", "type": "LAB", "aliases": []},
    {"name": "Nanomox", "phase": "C", "floor": "Second", "location": "Lab 10", "type": "LAB", "aliases": []},
    {"name": "P.Happi", "phase": "C", "floor": "Second", "location": "Lab 10", "type": "LAB", "aliases": []},
    {"name": "Alceus Bio", "phase": "C", "floor": "Second", "location": "Lab 10", "type": "LAB", "aliases": []},

    // --- THIRD FLOOR ---
    {"name": "Portal Bio", "phase": "C", "floor": "Third", "location": "Lab 1", "type": "LAB", "aliases": []},
    {"name": "Avacta", "phase": "B", "floor": "Third", "location": "General", "type": "OFFICE", "aliases": []},
    {"name": "Portal Bio", "phase": "C", "floor": "Third", "location": "Lab 2", "type": "LAB", "aliases": []},
    {"name": "Medisieve", "phase": "C", "floor": "Third", "location": "Lab 3", "type": "LAB", "aliases": []},
    {"name": "Portal Bio", "phase": "C", "floor": "Third", "location": "Lab 7", "type": "LAB", "aliases": []},
    {"name": "Metsera", "phase": "C", "floor": "Third", "location": "Lab 9", "type": "LAB", "aliases": []},
    {"name": "Genefluence", "phase": "C", "floor": "Third", "location": "Lab 10", "type": "LAB", "aliases": []}
];
        const search = document.getElementById('search');
        const results = document.getElementById('results');

        search.addEventListener('input', (e) => {
            const val = e.target.value.toLowerCase();
            results.innerHTML = '';
            if(!val) return;

            db.filter(c => 
                c.name.toLowerCase().includes(val) || 
                c.location.toLowerCase().includes(val) ||
                // Fixed: Added safety check for aliases
                (c.aliases && c.aliases.some(a => a.toLowerCase().includes(val)))
            ).forEach(c => {
                const phaseClass = c.phase === 'A' ? 'phase-a' : c.phase === 'B' ? 'phase-b' : 'phase-c';
                const badge = c.type === 'LAB' ? 'bg-purple-600' : 'bg-blue-600';
                
                results.innerHTML += `
                    <div class="p-4 rounded-xl ${phaseClass} flex justify-between items-center shadow-lg">
                        <div>
                            <div class="font-bold text-xl">${c.name}</div>
                            <div class="flex gap-2 mt-1">
                                <span class="${badge} px-2 py-0.5 rounded text-[10px] font-bold uppercase">${c.location}</span>
                                <span class="bg-slate-700 px-2 py-0.5 rounded text-[10px] font-bold uppercase">${c.type}</span>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-2xl font-black text-white">PHASE ${c.phase}</div>
                            <div class="text-slate-400 text-sm">Floor ${c.floor}</div>
                        </div>
                    </div>`;
            });
        });

        // Register Service Worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js');
        }
    </script>
</body>
</html>
